# 📄 [PRD] 운동 플랜 관리 (Program Plan Management)

## 1. 개요

- **목적**: 코치가 특정 프로그램의 전체 일정(Phase & Day)을 설계하고, 미리 정의된 '루틴 블록'을 배치하여 회원에게 제공할 운동 설계도를 완성한다.
- **사용자**: 코치(Coach) 및 어드민(Admin)

## 2. 핵심 유저 스토리

1. **페이즈(Phase) 생성**: "나는 12주 프로그램을 4주씩 3단계(기초-강화-피크)로 나누어 관리하고 싶다."
2. **일차(Day) 설계**: "각 페이즈 내에서 1일차부터 n일차까지의 운동 일정을 정의하고 싶다."
3. **루틴 블록 배치**: "미리 만들어둔 '하체 폭격 블록'을 1주차 월요일(1일차)에 드래그 앤 드롭으로 꽂고 싶다."
4. **노트 추가**: "해당 일차의 운동을 시작하기 전 회원이 읽어야 할 주의사항을 적고 싶다."

## 3. 주요 기능 및 요구사항

### 3.1 페이즈(Phase) 시스템

- **생성/삭제**: 프로그램 내에 여러 개의 Phase(예: 1단계 기초공사)를 추가할 수 있다.
- **기간 설정**: 각 페이즈가 몇 주(Week) 또는 몇 일(Day)로 구성될지 정의한다.
- **정렬**: 페이즈 간의 순서를 변경할 수 있다 (`phase_number`).

### 3.2 플랜 그리드 (Plan Grid / Calendar View)

- **일자별 카드**: 각 일차(Day 1, Day 2...)는 하나의 카드로 표현된다.
- **블록 매핑**: 각 카드 내부의 '루틴 선택' 버튼을 통해 `routine_blocks` 목록을 불러와 연결한다.
- **휴식일 설정**: 루틴 블록이 연결되지 않은 날은 자동으로 'Rest Day'로 표시된다.

### 3.3 상세 편집 (Blueprint Detail)

- **일차 제목 (`day_title`)**: 예: "1일차: 하이록스 근지구력 테스트"
- **코치 노트 (`notes`)**: 해당 일차의 전반적인 가이드라인 입력 (Markdown 지원).
- **복사/붙여넣기**: 특정 일차의 설정을 다른 날짜로 빠르게 복사하는 기능.

## 4. 데이터 매핑 (개발 참고용)

- **Target Table**: `program_blueprints`
- **연결 로직**:
- `program_id`: 현재 편집 중인 프로그램 고유 ID.
- `routine_block_id`: 코치가 선택한 루틴 블록 ID.
- `phase_number` & `day_number`: 플랜 내 위치 값.

## 5. UI/UX 와이어프레임 가이드

1. **상단 탭**: 페이즈 목록 (Phase 1, Phase 2...)
2. **메인 캔버스**:

- 주차별로 그룹화된 일차별 카드 레이아웃.
- 카드 구성: [Day N] + [일차 제목 입력] + [루틴 블록 선택기] + [노트 아이콘].

3. **루틴 블록 선택 모달**:

- 기존에 만든 `routine_blocks` 리스트가 검색창과 함께 노출.
- 선택 시 해당 일차 카드에 블록 이름과 포함된 운동 요약이 표시됨.

---

## 💡 기획자 친구를 위한 "이 페이지의 킥(Kick)"

- **템플릿화**: "우리는 한번 짠 4주 플랜을 통째로 복사해서 다른 프로그램에 붙여넣을 수 있어. 코치가 12주 커리큘럼을 짜는 데 10분도 안 걸리게 만드는 게 목표야."
- **유동적인 일정**: "회원이 실제 결제한 날부터 Day 1이 시작되도록 설계했기 때문에, 날짜 기반이 아니라 **'차수(Day Number)'** 기반으로 관리하는 게 핵심이야."

---
